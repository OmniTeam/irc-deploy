<form [formGroup]="formGroup" (ngSubmit)="submitLetter()">

  <h3 style="margin-left: 40px;">A. Submission Instructions</h3>
  <div class="card">
    <div class="row" style="margin: 10px;">
      <p></p>
    </div>

    <div class="row" style="margin: 10px;">
      <div class="col-sm-4">Select the program you wish to apply for:<span class="required-indicator">*</span></div>
      <div class="col-sm-4">
        <div style="margin-bottom: 30px;">
          <ul class="list-group list-group-flush">
            <li class="list-group-item" *ngFor="let item of programs">
              <input type="radio" formControlName="program" value="{{item.id}}"
                     [ngClass]="{ 'is-invalid': submitted && f.program.errors }">
              {{item.name}}
            </li>
          </ul>
          <div *ngIf="submitted && f.program.errors" class="invalid-feedback">
            <div *ngIf="f.program.errors.required" class="input-error">Program is
              required
            </div>
          </div>
        </div>
      </div>
      <div class="col-sm-4">
        <button class="btn btn-link"><a href="#" style="font-size:15px;"
                                        class="text fas fa-file-download"
                                        target="_blank" download>&nbsp;&nbsp;Download Application Template</a>
        </button>
      </div>
    </div>
  </div>

  <h3 style="margin-left: 40px;">B. Organisational Information</h3>
  <div class="card">
    <div class="card-body">
      <div class="row" style="margin: 10px;">
        <div class="col-sm-6"><label>Name of the Lead Cluster Organisation:<span
          class="required-indicator">*</span></label></div>
        <div class="col-sm-6">
          <div class="form-group ">
            <div class=" input-group input-group-merge">
              <input
                class="form-control"
                placeholder="Organisation Name"
                type="text"
                style="padding-left: 10px;"
                formControlName="organisation"
                [ngClass]="{ 'is-invalid': submitted && f.organisation.errors }"
              >
              <div *ngIf="submitted && f.organisation.errors" class="invalid-feedback">
                <div *ngIf="f.organisation.errors.required" class="input-error">Organisation is
                  required
                </div>
              </div>
            </div>
            <div *ngIf="f.organisation.hasError('alreadyExist')">
              <div class="input-error">organisation is already exists</div>
            </div>

          </div>
        </div>
      </div>

      <div class="row" style="margin: 10px;">
        <div class="col-sm-6"><label>Acronym Name:</label></div>
        <div class="col-sm-6">
          <div class="form-group ">
            <div class=" input-group input-group-merge">
              <input
                class="form-control"
                placeholder="Acronym Name"
                type="text"
                style="padding-left: 10px;"
                formControlName="acronym"
                [ngClass]="{ 'is-invalid': submitted && f.acronym.errors }"
              >
            </div>
          </div>
        </div>
      </div>

      <div class="row" style="margin: 10px;">
        <div class="col-sm-6"><label>Type of Organisation:<span
          class="required-indicator">*</span></label></div>
        <div class="col-sm-6">
          <div class="form-group ">
            <div class=" input-group input-group-merge">
              <ng-select class="form-control form-control-sm"
                         name="datatable_length"
                         aria-controls="datatable"
                         style="height: auto!important;padding: 0; border: 1px solid #f7fafc;"
                         [multiple]="false"
                         placeholder="Organization Type"
                         formControlName="organization_type"
                         [ngClass]="{ 'is-invalid': submitted && f.organization_type.errors }"
                         [searchable]="true"
                         [clearable]="true"
              >
                <ng-option [value]="item.id" *ngFor="let item of organizationType">
                  {{item.name}}
                </ng-option>
              </ng-select>
              <div *ngIf="submitted && f.organization_type.errors" class="invalid-feedback">
                <div *ngIf="f.organization_type.errors.required" class="input-error">Organization Type is required</div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="row" style="margin: 10px;">
        <div class="col-sm-6"><label>Legal Status:<span
          class="required-indicator">*</span></label></div>
        <div class="col-sm-6">
          <div class="form-group ">
            <div class=" input-group input-group-merge">
              <input
                class="form-control"
                placeholder="Legal Status"
                type="text"
                style="padding-left: 10px;"
                formControlName="legal_status"
                [ngClass]="{ 'is-invalid': submitted && f.legal_status.errors }"
              >
              <div *ngIf="submitted && f.legal_status.errors" class="invalid-feedback">
                <div *ngIf="f.legal_status.errors.required" class="input-error">Legal Status</div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="row" style="margin: 10px;">
        <div class="col-sm-6"><label>Name of Contact Person:<span
          class="required-indicator">*</span></label></div>
        <div class="col-sm-6">
          <div class="form-group ">
            <div class=" input-group input-group-merge">
              <input
                class="form-control"
                placeholder="Contact Person"
                type="text"
                style="padding-left: 10px;"
                formControlName="contact_person"
                [ngClass]="{ 'is-invalid': submitted && f.contact_person.errors }"
              >
              <div *ngIf="submitted && f.contact_person.errors" class="invalid-feedback">
                <div *ngIf="f.contact_person.errors.required" class="input-error">Contact Person is
                  required
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="row" style="margin: 10px;">
        <div class="col-sm-6"><label>Address of contact person (if different):<span
          class="required-indicator">*</span></label></div>
        <div class="col-sm-6">
          <div class="form-group ">
            <div class=" input-group input-group-merge">
              <input
                class="form-control"
                placeholder="Address"
                type="text"
                style="padding-left: 10px;"
                formControlName="address_contact_person"
                [ngClass]="{ 'is-invalid': submitted && f.address_contact_person.errors }"
              >
              <div *ngIf="submitted && f.address_contact_person.errors" class="invalid-feedback">
                <div *ngIf="f.address_contact_person.errors.required" class="input-error">Address is
                  required
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="row" style="margin: 10px;">
        <div class="col-sm-6"><label>Email address of contact person:<span
          class="required-indicator">*</span></label></div>
        <div class="col-sm-6">
          <div class="form-group ">
            <div class=" input-group input-group-merge">
              <input
                class="form-control"
                placeholder="Email Address"
                type="text"
                style="padding-left: 10px;"
                formControlName="email_address"
                [ngClass]="{ 'is-invalid': submitted && f.email_address.errors }"
              >
              <div *ngIf="submitted && f.email_address.errors" class="invalid-feedback">
                <div *ngIf="f.email_address.errors.required" class="input-error">Email address is
                  required
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="row" style="margin: 10px;">
        <div class="col-sm-6"><label>Phone of contact person:<span
          class="required-indicator">*</span></label></div>
        <div class="col-sm-6">
          <div class="form-group ">
            <div class=" input-group input-group-merge">
              <input
                class="form-control"
                placeholder="Phone Number"
                type="text"
                style="padding-left: 10px;"
                formControlName="contact_person_number"
                [ngClass]="{ 'is-invalid': submitted && f.contact_person_number.errors }"
              >
              <div *ngIf="submitted && f.contact_person_number.errors" class="invalid-feedback">
                <div *ngIf="f.contact_person_number.errors.required" class="input-error">Phone Number is
                  required
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="row" style="margin: 10px;">
        <div class="col-sm-6"><label>Physical Address:<span
          class="required-indicator">*</span></label></div>
        <div class="col-sm-6">
          <div class="form-group ">
            <div class=" input-group input-group-merge">
              <input
                class="form-control"
                placeholder="Physical Address"
                type="text"
                style="padding-left: 10px;"
                formControlName="physical_address"
                [ngClass]="{ 'is-invalid': submitted && f.physical_address.errors }"
              >
              <div *ngIf="submitted && f.physical_address.errors" class="invalid-feedback">
                <div *ngIf="f.physical_address.errors.required" class="input-error">Physical Address is
                  required
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="row" style="margin: 10px;">
        <div class="col-sm-6"><label>Postal Address:</label></div>
        <div class="col-sm-6">
          <div class="form-group ">
            <div class=" input-group input-group-merge">
              <input
                class="form-control"
                placeholder="Postal Address"
                type="text"
                style="padding-left: 10px;"
                formControlName="postal_address"
                [ngClass]="{ 'is-invalid': submitted && f.postal_address.errors }"
              >
              <div *ngIf="submitted && f.postal_address.errors" class="invalid-feedback">
                <div *ngIf="f.postal_address.errors.required" class="input-error">Postal Address is
                  required
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="row" style="margin: 10px;">
        <div class="col-sm-6"><label>Email:<span
          class="required-indicator">*</span></label></div>
        <div class="col-sm-6">
          <div class="form-group ">
            <div class=" input-group input-group-merge">
              <input
                class="form-control"
                placeholder="Email"
                type="text"
                style="padding-left: 10px;"
                formControlName="email"
                [ngClass]="{ 'is-invalid': submitted && f.email.errors }"
              >
              <div *ngIf="submitted && f.email.errors" class="invalid-feedback">
                <div *ngIf="f.email.errors.required" class="input-error">Email is
                  required
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="row" style="margin: 10px;">
        <div class="col-sm-6"><label>Website:</label></div>
        <div class="col-sm-6">
          <div class="form-group ">
            <div class=" input-group input-group-merge">
              <input
                class="form-control"
                placeholder="Website"
                type="text"
                style="padding-left: 10px;"
                formControlName="website"
                [ngClass]="{ 'is-invalid': submitted && f.website.errors }"
              >
              <div *ngIf="submitted && f.website.errors" class="invalid-feedback">
                <div *ngIf="f.website.errors.required" class="input-error">Website is
                  required
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="row" style="margin: 10px;">
        <div class="col-sm-6"><label>Country:</label></div>
        <div class="col-sm-6">
          <div class="form-group ">
            <div class=" input-group input-group-merge">
              <ng-select class="form-control form-control-sm"
                         name="datatable_length"
                         aria-controls="datatable"
                         style="height: auto!important;padding: 0; border: 1px solid #f7fafc;"
                         [multiple]="false"
                         placeholder="Country"
                         formControlName="country"
                         (ngModelChange)="onSelectCountry($event)"
                         [ngClass]="{ 'is-invalid': submitted && f.country.errors }"
                         [searchable]="true"
                         [clearable]="true"
              >
                <ng-option [value]="country" *ngFor="let country of countries">
                  {{country}}
                </ng-option>
              </ng-select>
            </div>
          </div>
        </div>
      </div>

      <div class="row" style="margin: 10px;">
        <div class="col-sm-6"><label>City:</label></div>
        <div class="col-sm-6">
          <div class="form-group ">
            <div class=" input-group input-group-merge">
              <ng-select class="form-control form-control-sm"
                         name="datatable_length"
                         aria-controls="datatable"
                         style="height: auto!important;padding: 0; border: 1px solid #f7fafc;"
                         [multiple]="false"
                         placeholder="City"
                         formControlName="city"
                         [ngClass]="{ 'is-invalid': submitted && f.city.errors }"
                         [searchable]="true"
                         [clearable]="true"
              >
                <ng-option [value]="city" *ngFor="let city of cities">
                  {{city}}
                </ng-option>
              </ng-select>
            </div>
          </div>
        </div>
      </div>

      <div class="row" style="margin: 10px;">

        <div class="col-sm-6"><label>Attach Letter of Interest:</label></div>
        <div class="col-sm-6">
          <div class="form-group ">
            <div class=" input-group input-group-merge">
              <input
                class="form-control"
                placeholder="Attachment"
                type="file"
                style="padding-left: 10px;"
                formControlName="attachment"
                [ngClass]="{ 'is-invalid': submitted && f.attachment.errors }"
              >
            </div>
          </div>
        </div>
      </div>

      <div class="row" style="margin: 10px;">

        <div class="col-sm-6"><label>Organization annual Budget for the current year and expenditure in the previous
          year ( attach audit books if available ): :</label></div>
        <div class="col-sm-6">
          <div class="form-group ">
            <div class=" input-group input-group-merge">
              <textarea
                class="form-control"
                style="padding-left: 10px;"
                formControlName="budget"
                [ngClass]="{ 'is-invalid': submitted && f.budget.errors }"
              ></textarea>
            </div>
          </div>
        </div>
      </div>

      <div class="row" style="margin: 10px;">

        <div class="col-sm-6"><label>Other donors /sources of funding( list all your funders and amount from
          each):</label></div>
        <div class="col-sm-6">
          <div class="form-group ">
            <div class=" input-group input-group-merge">
              <textarea
                class="form-control"
                style="padding-left: 10px;"
                formControlName="donors"
                [ngClass]="{ 'is-invalid': submitted && f.donors.errors }"
              ></textarea>
            </div>
          </div>
        </div>
      </div>

      <div class="row" style="margin: 10px;">

        <div class="col-sm-6"><label>If submitting a Cluster, Name other cluster organizations and their
          contacts.</label></div>
        <div class="col-sm-6">
          <div class="form-group ">
            <div class=" input-group input-group-merge">
              <textarea
                class="form-control"
                style="padding-left: 10px;"
                formControlName="other_organization"
                [ngClass]="{ 'is-invalid': submitted && f.other_organization.errors }"
              ></textarea>
            </div>
          </div>
        </div>
      </div>

      <div class="row" style="margin: 10px;">

        <div class="col-sm-6"><label>Bank Details Name of the bank :<br> Bank Address Title of the Account:<br> Account
          Number:</label></div>
        <div class="col-sm-6">
          <div class="form-group ">
            <div class=" input-group input-group-merge">
              <textarea
                class="form-control"
                style="padding-left: 10px;"
                formControlName="bank_details"
                [ngClass]="{ 'is-invalid': submitted && f.bank_details.errors }"
              ></textarea>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>

  <h3 style="margin-left: 40px;">C. The Proposed Project</h3>
  <div class="card">
    <div class="card-body">
      <div class="row" style="margin: 10px;">
        <div class="col">

          <div class="row">
            <div class="col-sm-6"><label>Proposed duration of the project:</label></div>
            <div class="col-sm-6">
              <div class="form-group ">
                <div class=" input-group input-group-merge">
                  <input
                    class="form-control"
                    placeholder="Project Duration"
                    type="text"
                    style="padding-left: 10px;"
                    formControlName="project_duration"
                    [ngClass]="{ 'is-invalid': submitted && f.project_duration.errors }"
                  >
                </div>
              </div>
            </div>
          </div>

            <label>Project location /area of operation:</label>
          <div class="row" style="margin: 10px;">
            <div class="col-sm-6"><label>Country:</label></div>
            <div class="col-sm-6">
              <div class="form-group ">
                <div class=" input-group input-group-merge">
                  <ng-select class="form-control form-control-sm"
                             name="datatable_length"
                             aria-controls="datatable"
                             style="height: auto!important;padding: 0; border: 1px solid #f7fafc;"
                             [multiple]="false"
                             placeholder="Country"
                             formControlName="project_country"
                             (ngModelChange)="onSelectProjectCountry($event)"
                             [ngClass]="{ 'is-invalid': submitted && f.project_country.errors }"
                             [searchable]="true"
                             [clearable]="true"
                  >
                    <ng-option [value]="country" *ngFor="let country of pCountries">
                      {{country}}
                    </ng-option>
                  </ng-select>
                </div>
              </div>
            </div>
          </div>

          <div class="row" style="margin: 10px;">
            <div class="col-sm-6"><label>City:</label></div>
            <div class="col-sm-6">
              <div class="form-group ">
                <div class=" input-group input-group-merge">
                  <ng-select class="form-control form-control-sm"
                             name="datatable_length"
                             aria-controls="datatable"
                             style="height: auto!important;padding: 0; border: 1px solid #f7fafc;"
                             [multiple]="false"
                             placeholder="City"
                             formControlName="project_city"
                             [ngClass]="{ 'is-invalid': submitted && f.project_city.errors }"
                             [searchable]="true"
                             [clearable]="true"
                  >
                    <ng-option [value]="city" *ngFor="let city of pCities">
                      {{city}}
                    </ng-option>
                  </ng-select>
                </div>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-sm-6"><label>Project proposed start date ( DD MM YEAR):</label></div>
            <div class="col-sm-6">
              <div class="form-group ">
                <div class=" input-group input-group-merge">
                  <input
                    class="form-control"
                    placeholder="Project proposed"
                    type="text"
                    style="padding-left: 10px;"
                    formControlName="project_proposed"
                    [ngClass]="{ 'is-invalid': submitted && f.project_proposed.errors }"
                  >
                </div>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-sm-6"><label>Total project amount:</label></div>
            <div class="col-sm-6">
              <div class="form-group ">
                <div class=" input-group input-group-merge">
                  <input
                    class="form-control"
                    placeholder="Amount"
                    type="text"
                    style="padding-left: 10px;"
                    formControlName="project_amount"
                    [ngClass]="{ 'is-invalid': submitted && f.project_amount.errors }"
                  >
                </div>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-sm-6"><label>Amount requested from CRVPF:</label></div>
            <div class="col-sm-6">
              <div class="form-group ">
                <div class=" input-group input-group-merge">
                  <input
                    class="form-control"
                    placeholder="Amount"
                    type="number"
                    style="padding-left: 10px;"
                    formControlName="amount_requested"
                    [ngClass]="{ 'is-invalid': submitted && f.amount_requested.errors }"
                  >
                </div>
              </div>
            </div>
          </div>

          <div class="row">
            <div class="col-sm-6"><label>Other sources and amount of funding on this particular Project if any:</label></div>
            <div class="col-sm-6">
              <div class="form-group ">
                <div class=" input-group input-group-merge">
                  <textarea
                    class="form-control"
                    placeholder="Funding"
                    style="padding-left: 10px;"
                    formControlName="funding"
                    [ngClass]="{ 'is-invalid': submitted && f.funding.errors }"
                  ></textarea>
                </div>
              </div>
            </div>
          </div>

        </div>
      </div>
    </div>
  </div>

  <h3 style="margin-left: 40px;">D. Attachments</h3>
  <div class="card">
    <div class="card-body">
      <div class="row" style="margin: 10px;">
        <div class="col">
          <div class="row">
            <div class="col-sm-6"><label>Duly Completed Application:</label></div>
            <div class="col-sm-6">
              <div class="form-group ">
                <div class=" input-group input-group-merge">
                  <input
                    class="form-control"
                    placeholder="Attachment"
                    type="file"
                    style="padding-left: 10px;"
                    formControlName="completed"
                    [ngClass]="{ 'is-invalid': submitted && f.completed.errors }"
                  >
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-sm-6"><label>Please attach MEL framework, Work plan and Budget</label></div>
            <div class="col-sm-6">
              <div class="form-group ">
                <div class=" input-group input-group-merge">
                  <input
                    class="form-control"
                    placeholder="Attachment"
                    type="file"
                    style="padding-left: 10px;"
                    formControlName="mel_framework"
                    [ngClass]="{ 'is-invalid': submitted && f.mel_framework.errors }"
                  >
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-sm-6"><label>A copy of financial audited reports or organizational
              financial report. if you have</label></div>
            <div class="col-sm-6">
              <div class="form-group ">
                <div class=" input-group input-group-merge">
                  <input
                    class="form-control"
                    placeholder="Attachment"
                    type="file"
                    style="padding-left: 10px;"
                    formControlName="financial"
                    [ngClass]="{ 'is-invalid': submitted && f.financial.errors }"
                  >
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-sm-6"><label>A copy of the registration certificate</label></div>
            <div class="col-sm-6">
              <div class="form-group ">
                <div class=" input-group input-group-merge">
                  <input
                    class="form-control"
                    placeholder="Attachment"
                    type="file"
                    style="padding-left: 10px;"
                    formControlName="registration"
                    [ngClass]="{ 'is-invalid': submitted && f.registration.errors }"
                  >
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-sm-6"><label>List of members of governing body their affiliations,
              skills and experience
            </label></div>
            <div class="col-sm-6">
              <div class="form-group ">
                <div class=" input-group input-group-merge">
                  <input
                    class="form-control"
                    placeholder="Attachment"
                    type="file"
                    style="padding-left: 10px;"
                    formControlName="list_members"
                    [ngClass]="{ 'is-invalid': submitted && f.list_members.errors }"
                  >
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-sm-6"><label>Organizational capacity assessment report
              if available:
            </label></div>
            <div class="col-sm-6">
              <div class="form-group ">
                <div class=" input-group input-group-merge">
                  <input
                    class="form-control"
                    placeholder="Attachment"
                    type="file"
                    style="padding-left: 10px;"
                    formControlName="assessment_report"
                    [ngClass]="{ 'is-invalid': submitted && f.assessment_report.errors }"
                  >
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-sm-6"><label>Organization strategic plan if available:</label></div>
            <div class="col-sm-6">
              <div class="form-group ">
                <div class=" input-group input-group-merge">
                  <input
                    class="form-control"
                    placeholder="Attachment"
                    type="file"
                    style="padding-left: 10px;"
                    formControlName="strategic_plan"
                    [ngClass]="{ 'is-invalid': submitted && f.strategic_plan.errors }"
                  >
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-sm-6"><label>Organizational annual work plan and budget::</label></div>
            <div class="col-sm-6">
              <div class="form-group ">
                <div class=" input-group input-group-merge">
                  <input
                    class="form-control"
                    placeholder="Attachment"
                    type="file"
                    style="padding-left: 10px;"
                    formControlName="annual_work_plan"
                    [ngClass]="{ 'is-invalid': submitted && f.annual_work_plan.errors }"
                  >
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-sm-6"><label>Child safe guard policy /manual if available:</label></div>
            <div class="col-sm-6">
              <div class="form-group ">
                <div class=" input-group input-group-merge">
                  <input
                    class="form-control"
                    placeholder="Attachment"
                    type="file"
                    style="padding-left: 10px;"
                    formControlName="child_policy"
                    [ngClass]="{ 'is-invalid': submitted && f.child_policy.errors }"
                  >
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-sm-6"><label>Organization structure/organogram:</label></div>
            <div class="col-sm-6">
              <div class="form-group ">
                <div class=" input-group input-group-merge">
                  <input
                    class="form-control"
                    placeholder="Attachment"
                    type="file"
                    style="padding-left: 10px;"
                    formControlName="structure"
                    [ngClass]="{ 'is-invalid': submitted && f.structure.errors }"
                  >
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-lg-12 bottom_buttons_row"
         style="text-align: -webkit-center; display: flex; justify-content: space-evenly;">
      <button class="btn btn-danger" (click)="cancel()">Cancel</button>
      <button class="btn btn-success" type="submit" (click)="submitLetter()">Submit Application</button>
    </div>
  </div>

</form>
