<div class="header bg-success pb-6">
  <div class="container-fluid">
    <div class="header-body">
      <div class="row align-items-center py-4">
        <div class="col-lg-6 col-7">
          <h6 class="h2 text-white d-inline-block mb-0">TaskList</h6>
        </div>
      </div>
    </div>
  </div>
</div>

<div class=" container-fluid mt--6">
  <div class=" row">
    <div class=" col">
      <div class=" card">
        <div class="row">
          <div class=" col-md-12 col-sm-12" style="margin-top: 20px;">
            <div class=" row">
              <div class=" col">
                <div style="padding: 20px;">
                  <table datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger"
                         class="table table-striped table-bordered hover" style="width:100%">
                    <thead style="background-color: #f6f9fc;">
                    <tr>
                      <th class='text-center' style="display: none;">Id</th>
                      <th class='text-center'>Task Name</th>
                      <th class='text-center'>Process</th>
                      <th class='text-center'>Case</th>
                      <th class='text-center'>Start Date</th>
                      <th class='text-center'>End Date</th>
                      <th class='text-center'>Status</th>
                      <th class='text-center'>Action</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr *ngFor="let row of rows">
                      <td class='text-center' style="display: none;">{{row.id}}</td>
                      <td class='text-center'>{{ row.taskName }}</td>
                      <td class='text-center'>{{ row.processDefKey | replace: '_' : ' ' }}</td>
                      <td class='text-center'>{{ row.case }}</td>
                      <td class='text-center'>{{ row.startDate | date: 'mediumDate' }}</td>
                      <td class='text-center'>{{ row.endDate  | date: 'mediumDate' }}</td>
                      <td class='text-center'
                          [style.color]="row.status=='completed' ? 'limegreen' :
                          row.status=='in_progress' ? 'orange' :
                          row.status=='needs_revision' ? 'red' : 'black'">
                        <div style="display: inline-flex;">{{ row.status | replace: '_' : ' ' | titlecase }}
                          <i class="far fa-check-circle" style="color: limegreen; font-size: 12px"
                             [style.display]="row.status=='completed' ? 'block' : 'none'"></i></div>
                      </td>
                      <td class='text-center'>
                        <a *ngIf="row.processDefKey=='CRVPF_REPORTING'" [routerLink]="['/reportForm', row.id, false]" style="font-size:20px;" class="text fas fa-external-link-square-alt"></a>
                        <a *ngIf="row.processDefKey=='GRANT_PROCESS'" [routerLink]="['/grantProcess', row.id, false]" style="font-size:20px;" class="text fas fa-external-link-square-alt"></a>
                      </td>
                    </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
